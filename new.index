<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Tracker</title>
<style>
  :root {
    --primary-color: #21808d;
    --secondary-color: #2d8eb2;
    --danger-color: #c0152f;
    --bg-color: #f5f5f5;
    --card-bg: #fff;
    --text-color: #1f2121;
  }
  * { box-sizing: border-box; margin:0; padding:0; font-family: Arial, sans-serif; }
  body { background-color: var(--bg-color); color: var(--text-color); }
  .hidden { display: none; }
  .page { display: none; }
  .page.active { display: block; }

  /* Login Page */
  .login-container { display:flex; justify-content:center; align-items:center; height:100vh; }
  .login-card { background: var(--card-bg); padding:30px; border-radius:10px; width:350px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);}
  .login-title { text-align:center; margin-bottom:10px; }
  .login-subtitle { text-align:center; margin-bottom:20px; font-size: 0.9em; color: gray; }
  .tab-btn { flex:1; padding:10px; cursor:pointer; border:none; background:#eee; margin:0 2px; border-radius:5px; }
  .tab-btn.active { background: var(--primary-color); color:white; }
  .login-tabs { display:flex; margin-bottom:15px; }
  .form-group { margin-bottom:15px; }
  .form-control { width:100%; padding:8px; border:1px solid #ccc; border-radius:5px; }
  .btn { cursor:pointer; border:none; border-radius:5px; padding:10px; }
  .btn-primary { background: var(--primary-color); color:white; width:100%; }
  .btn-secondary { background: #ccc; color:black; }

  /* Portal */
  .topnav { background: var(--primary-color); color:white; padding:10px; display:flex; justify-content:space-between; }
  .portal-container { display:flex; min-height:calc(100vh - 50px); }
  .sidebar { width:200px; background:#333; color:white; padding:15px; }
  .sidebar .nav-link { display:block; color:white; padding:10px; text-decoration:none; margin-bottom:5px; border-radius:5px; }
  .sidebar .nav-link.active, .sidebar .nav-link:hover { background: var(--secondary-color); }
  .main-content { flex:1; padding:20px; }
  .breadcrumb { font-size:0.9em; margin-bottom:10px; color: gray; }

  .stats-grid { display:flex; gap:15px; margin-bottom:20px; }
  .stat-card { background:white; flex:1; padding:15px; border-radius:8px; text-align:center; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
  .stat-value { font-size:1.5em; font-weight:bold; }

  table { width:100%; border-collapse: collapse; margin-bottom:15px; }
  th, td { border:1px solid #ccc; padding:8px; text-align:center; }
  th { background:#eee; }

  .attendance-form, .performance-form { background:white; padding:15px; border-radius:8px; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
  .form-row { display:flex; gap:10px; }
  .form-row .form-group { flex:1; }
  textarea.form-control { resize:none; }
</style>
</head>
<body>

<!-- Login Page -->
<div id="loginPage" class="page active">
  <div class="login-container">
    <div class="login-card">
      <h1 class="login-title">Student Tracker</h1>
      <p class="login-subtitle">Attendance & Performance System</p>
      <div class="login-tabs">
        <button class="tab-btn active" data-tab="faculty">Faculty</button>
        <button class="tab-btn" data-tab="student">Student</button>
      </div>
      <form id="facultyLoginForm" class="login-form active">
        <div class="form-group">
          <label>Username</label>
          <input type="text" id="facultyUsername" class="form-control" required>
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" id="facultyPassword" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary">Login as Faculty</button>
      </form>
      <form id="studentLoginForm" class="login-form">
        <div class="form-group">
          <label>Username</label>
          <input type="text" id="studentUsername" class="form-control" required>
        </div>
        <div class="form-group">
          <label>Password</label>
          <input type="password" id="studentPassword" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary">Login as Student</button>
      </form>
    </div>
  </div>
</div>

<!-- Faculty Portal -->
<div id="facultyPortal" class="page">
  <nav class="topnav">
    <div>Faculty Portal</div>
    <button class="btn btn-secondary" id="facultyLogout">Logout</button>
  </nav>
  <div class="portal-container">
    <aside class="sidebar">
      <a href="#" class="nav-link active" data-view="facultyDashboard">Dashboard</a>
      <a href="#" class="nav-link" data-view="markAttendance">Mark Attendance</a>
      <a href="#" class="nav-link" data-view="enterPerformance">Enter Performance</a>
    </aside>
    <main class="main-content">
      <!-- Dashboard -->
      <div id="facultyDashboard" class="view active">
        <div class="breadcrumb">Home / Dashboard</div>
        <div class="stats-grid">
          <div class="stat-card"><div class="stat-value" id="totalStudents">0</div><div>Total Students</div></div>
          <div class="stat-card"><div class="stat-value" id="todayPresent">0</div><div>Present Today</div></div>
          <div class="stat-card"><div class="stat-value" id="todayAbsent">0</div><div>Absent Today</div></div>
        </div>
      </div>

      <!-- Mark Attendance -->
      <div id="markAttendance" class="view">
        <div class="breadcrumb">Home / Mark Attendance</div>
        <form id="attendanceForm" class="attendance-form">
          <div class="form-row">
            <div class="form-group">
              <label>Date</label>
              <input type="date" id="attendanceDate" class="form-control" required>
            </div>
          </div>
          <table>
            <thead>
              <tr>
                <th>Roll No.</th>
                <th>Name</th>
                <th>Present</th>
                <th>Absent</th>
                <th>Late</th>
              </tr>
            </thead>
            <tbody id="attendanceTableBody"></tbody>
          </table>
          <button type="submit" class="btn btn-primary">Submit Attendance</button>
        </form>
      </div>

      <!-- Enter Performance -->
      <div id="enterPerformance" class="view">
        <div class="breadcrumb">Home / Enter Performance</div>
        <form id="performanceForm" class="performance-form">
          <div class="form-group">
            <label>Select Student</label>
            <select id="perfStudent" class="form-control" required></select>
          </div>
          <div class="form-group">
            <label>Subject</label>
            <select id="perfSubject" class="form-control" required>
              <option>Math</option>
              <option>Physics</option>
              <option>Chemistry</option>
            </select>
          </div>
          <div class="form-group">
            <label>Score</label>
            <input type="number" id="perfScore" class="form-control" min="0" required>
          </div>
          <button type="submit" class="btn btn-primary">Submit Performance</button>
        </form>
      </div>
    </main>
  </div>
</div>

<!-- Student Portal -->
<div id="studentPortal" class="page">
  <nav class="topnav">
    <div>Student Portal</div>
    <button class="btn btn-secondary" id="studentLogout">Logout</button>
  </nav>
  <div class="portal-container">
    <main class="main-content">
      <div id="studentDashboard" class="view active">
        <h2>Welcome Student!</h2>
        <div id="studentInfo"></div>
      </div>
    </main>
  </div>
</div>

<script>
let students = [
  { id: 1, name: "Rahul Sharma", roll_number: "CS2024001", class: "Computer Science A" },
  { id: 2, name: "Priya Patel", roll_number: "CS2024002", class: "Computer Science A" },
  { id: 3, name: "Amit Kumar", roll_number: "CS2024003", class: "Computer Science A" },
];

// ----- Login Tab Switch -----
document.querySelectorAll(".tab-btn").forEach(btn=>{
  btn.addEventListener("click", ()=>{
    document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    document.querySelectorAll(".login-form").forEach(f=>f.classList.remove("active"));
    document.getElementById(btn.dataset.tab+"LoginForm").classList.add("active");
  });
});

// ----- Faculty Login -----
document.getElementById("facultyLoginForm").addEventListener("submit", e=>{
  e.preventDefault();
  document.getElementById("loginPage").classList.remove("active");
  document.getElementById("facultyPortal").classList.add("active");
  loadAttendanceTable();
  document.getElementById("totalStudents").textContent = students.length;
});

// ----- Student Login -----
document.getElementById("studentLoginForm").addEventListener("submit", e=>{
  e.preventDefault();
  document.getElementById("loginPage").classList.remove("active");
  document.getElementById("studentPortal").classList.add("active");
  showStudentInfo();
});

// ----- Logout -----
document.getElementById("facultyLogout").addEventListener("click", ()=>{
  document.getElementById("facultyPortal").classList.remove("active");
  document.getElementById("loginPage").classList.add("active");
});
document.getElementById("studentLogout").addEventListener("click", ()=>{
  document.getElementById("studentPortal").classList.remove("active");
  document.getElementById("loginPage").classList.add("active");
});

// ----- Faculty Sidebar Navigation -----
document.querySelectorAll(".sidebar .nav-link").forEach(link=>{
  link.addEventListener("click", e=>{
    e.preventDefault();
    document.querySelectorAll(".sidebar .nav-link").forEach(l=>l.classList.remove("active"));
    link.classList.add("active");
    const view = link.dataset.view;
    document.querySelectorAll(".main-content .view").forEach(v=>v.classList.remove("active"));
    document.getElementById(view).classList.add("active");
  });
});

// ----- Load Attendance Table -----
function loadAttendanceTable() {
  const tbody = document.getElementById("attendanceTableBody");
  tbody.innerHTML = "";
  students.forEach(s=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `<td>${s.roll_number}</td>
                    <td>${s.name}</td>
                    <td><input type="radio" name="att${s.id}" value="present" checked></td>
                    <td><input type="radio" name="att${s.id}" value="absent"></td>
                    <td><input type="radio" name="att${s.id}" value="late"></td>`;
    tbody.appendChild(tr);
  });

  const studentSelect = document.getElementById("perfStudent");
  studentSelect.innerHTML = "";
  students.forEach(s=>{
    const option = document.createElement("option");
    option.value = s.id;
    option.textContent = s.name;
    studentSelect.appendChild(option);
  });
}

// ----- Attendance Submit -----
document.getElementById("attendanceForm").addEventListener("submit", e=>{
  e.preventDefault();
  alert("Attendance submitted successfully!");
});

// ----- Performance Submit -----
document.getElementById("performanceForm").addEventListener("submit", e=>{
  e.preventDefault();
  alert("Performance submitted successfully!");
});

// ----- Student Dashboard -----
function showStudentInfo() {
  const div = document.getElementById("studentInfo");
  div.innerHTML = `<p>Total Students: ${students.length}</p>`;
}
</script>
</body>
</html>
